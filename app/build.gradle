plugins {
    id 'com.android.application'
    id 'com.google.gms.google-services'
    id 'com.google.firebase.crashlytics'
}

android {
	namespace "ru.mes.dnevnik"
    compileSdkVersion 34
    buildToolsVersion "34.0.0"

    defaultConfig {
        applicationId 'ru.mes.dnevnik'
        minSdkVersion 23
        //noinspection ExpiringTargetSdkVersion,ExpiredTargetSdkVersion
        targetSdkVersion 34
        versionCode 1757332198
        versionName "3.64.24"
        vectorDrawables.useSupportLibrary = true

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    lintOptions {
        abortOnError false
    }

    buildFeatures {
        buildConfig = false
    }
    
    aaptOptions {
        ignoreAssetsPattern "!.svn:!.git:.*:!CVS:!thumbs.db:!picasa.ini:!*.scc:*~"
    }
    
    packagingOptions {
        pickFirst '**/libc++_shared.so'
        pickFirst '**/libjsc.so'
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/license.txt'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/notice.txt'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/*.kotlin_module'
    }
}

dependencies {
    // React Native
    implementation 'com.facebook.react:react-android:0.74.5'
    
    // AndroidX
    implementation 'androidx.appcompat:appcompat:1.6.1'
    implementation 'androidx.core:core-ktx:1.12.0'
    implementation 'com.google.android.material:material:1.11.0'
    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.2.0'
    implementation 'androidx.fragment:fragment:1.6.2'
    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.7.0'
    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.7.0'
    implementation 'androidx.lifecycle:lifecycle-process:2.7.0'
    implementation 'androidx.media:media:1.7.0'
    implementation 'androidx.recyclerview:recyclerview:1.3.2'
    implementation 'androidx.savedstate:savedstate:1.2.1'
    implementation 'androidx.startup:startup-runtime:1.1.1'
    implementation 'androidx.versionedparcelable:versionedparcelable:1.1.1'
    implementation 'androidx.viewpager2:viewpager2:1.0.0'
    implementation 'androidx.work:work-runtime:2.9.0'
    implementation 'androidx.room:room-runtime:2.6.1'
    implementation 'androidx.room:room-ktx:2.6.1'
    implementation 'androidx.emoji2:emoji2:1.4.0'
    implementation 'androidx.profileinstaller:profileinstaller:1.3.1'
    
    // Camera
    implementation 'androidx.camera:camera-core:1.3.1'
    implementation 'androidx.camera:camera-camera2:1.3.1'
    implementation 'androidx.camera:camera-lifecycle:1.3.1'
    implementation 'androidx.camera:camera-view:1.3.1'
    implementation 'androidx.camera:camera-extensions:1.3.1'
    
    // Biometric
    implementation 'androidx.biometric:biometric:1.1.0'
    
    // Browser
    implementation 'androidx.browser:browser:1.7.0'
    
    // Firebase
    implementation platform('com.google.firebase:firebase-bom:32.7.4')
    implementation 'com.google.firebase:firebase-analytics'
    implementation 'com.google.firebase:firebase-messaging'
    implementation 'com.google.firebase:firebase-crashlytics'
    implementation 'com.google.firebase:firebase-perf'
    // implementation 'com.google.firebase:firebase-remoteconfig' // Not available in current BOM
    implementation 'com.google.firebase:firebase-installations'
    
    // Google Play Services
    implementation 'com.google.android.gms:play-services-auth:20.7.0'
    implementation 'com.google.android.gms:play-services-location:21.0.1'
    implementation 'com.google.android.gms:play-services-maps:18.2.0'
    implementation 'com.google.android.gms:play-services-basement:18.2.0'
    implementation 'com.google.android.gms:play-services-base:18.2.0'
    implementation 'com.google.android.gms:play-services-tasks:18.2.0'
    implementation 'com.google.android.gms:play-services-stats:17.0.2'
    implementation 'com.google.android.gms:play-services-measurement:21.5.1'
    implementation 'com.google.android.gms:play-services-measurement-api:21.5.1'
    implementation 'com.google.android.gms:play-services-measurement-base:21.5.1'
    implementation 'com.google.android.gms:play-services-measurement-impl:21.5.1'
    implementation 'com.google.android.gms:play-services-measurement-sdk:21.5.1'
    implementation 'com.google.android.gms:play-services-measurement-sdk-api:21.5.1'
    implementation 'com.google.android.gms:play-services-ads-identifier:18.0.1'
    implementation 'com.google.android.gms:play-services-appset:16.0.2'
    implementation 'com.google.android.gms:play-services-auth-api-phone:18.0.1'
    implementation 'com.google.android.gms:play-services-auth-base:18.0.1'
    implementation 'com.google.android.gms:play-services-cloud-messaging:17.0.1'
    implementation 'com.google.android.gms:play-services-fido:20.1.0'
    // implementation 'com.google.android.gms:play-services-billing:6.1.0' // Not available in repositories
    
    // ML Kit
    implementation 'com.google.mlkit:barcode-scanning:17.2.0'
    implementation 'com.google.mlkit:vision-common:17.3.0'
    
    
    // RuStore - Commented out due to repository connectivity issues
    // implementation 'ru.rustore.sdk:pushclient:1.7.0'
    // implementation 'ru.rustore.sdk:remoteconfig:1.7.0'
    // implementation 'ru.rustore.sdk:review:1.7.0'
    // implementation 'ru.rustore.sdk:activitylauncher:1.7.0'
    // implementation 'ru.rustore.sdk:metrics:1.7.0'
    
    // VK Push - Commented out due to repository connectivity issues
    // implementation 'com.vk:android-sdk:4.0.1'
    
    // Yandex - Commented out due to potential repository issues
    // implementation 'com.yandex.android:mobmetricalib:5.3.0'
    // implementation 'com.yandex.android:maps.mobile:4.5.1-full'
    
    // Sentry
    implementation 'io.sentry:sentry-android:6.34.0'
    
    // OkHttp
    implementation 'com.squareup.okhttp3:okhttp:4.12.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:4.12.0'
    
    // Glide
    implementation 'com.github.bumptech.glide:glide:4.16.0'
    implementation 'com.github.bumptech.glide:okhttp3-integration:4.16.0'
    // implementation 'com.github.bumptech.glide:webp-integration:4.16.0' // Not available in Maven Central
    
    // React Native Community - These are typically installed via npm, not Maven
    // implementation 'com.reactnativecommunity:react-native-webview:13.6.4'
    // implementation 'com.reactnativecommunity:react-native-document-picker:9.1.1'
    // implementation 'com.reactnativecommunity:react-native-keyboard-controller:1.0.0'
    // implementation 'com.reactnativecommunity:react-native-pager-view:6.2.1'
    
    // React Native Libraries - These are typically installed via npm, not Maven
    // implementation 'com.reactnativeblobutil:react-native-blob-util:0.19.4'
    // implementation 'com.reactnativemmkv:react-native-mmkv:2.12.2'
    // implementation 'com.reactnativepagerview:react-native-pager-view:6.2.1'
    // implementation 'com.reactnativekeyboardcontroller:react-native-keyboard-controller:1.0.0'
    // implementation 'com.reactnativelastactivestate:react-native-last-active-state:1.0.0'
    
    // Image Processing
    // implementation 'com.yalantis:ucrop:2.2.8' // Not available in Maven Central
    // implementation 'com.reactnative.ivpusic:react-native-image-picker:7.1.0'
    // implementation 'com.vinzscam:react-native-file-viewer:2.1.5'
    
    // File System
    // implementation 'expo.modules:filesystem:15.4.5'
    
    // Share
    // implementation 'cl.json:react-native-share:10.0.2'
    
    // In-App Browser
    // implementation 'com.proyecto26:react-native-inappbrowser:4.0.2'
    
    // Send Intent
    // implementation 'com.burnweb:react-native-send-intent:1.2.0'
    
    // Biometry
    // implementation 'com.reactnativebiometrytools:react-native-biometry-tools:1.0.0'
    
    // Text Input Mask
    // implementation 'com.RNTextInputMask:react-native-text-input-mask:2.0.0'
    
    // Maps
    // implementation 'com.github.yamap:react-native-yamap:1.0.0'
    
    // Push Notifications
    // implementation 'com.dieam:react-native-push-notification:8.1.1'
    
    
    // Testing
    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.ext:junit:1.1.5'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
}
